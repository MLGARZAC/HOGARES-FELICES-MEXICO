<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hogares Felices México — Tu hogar ideal en Guadalajara</title>
  <meta name="description" content="Asesoría confiable en compra, venta, renta y administración de inmuebles en Guadalajara, Jalisco. Agenda tu visita y encuentra tu casa ideal hoy." />
  <meta property="og:title" content="Hogares Felices México" />
  <meta property="og:description" content="Compra, venta, renta y administración de propiedades en Guadalajara, Jalisco." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://og-playground.vercel.app/api/og?title=Hogares%20Felices%20M%C3%A9xico" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Hogares Felices México" />
  <meta name="twitter:description" content="Compra, venta, renta y administración de propiedades en Guadalajara, Jalisco." />

  <!-- JSON-LD para SEO -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RealEstateAgent",
      "name": "Hogares Felices México",
      "areaServed": ["Guadalajara", "Zapopan", "Tlajomulco"],
      "telephone": "+52 33 1234 5678",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Av. Chapultepec Sur 200, Colonia Americana",
        "addressLocality": "Guadalajara",
        "addressRegion": "Jalisco",
        "postalCode": "44160",
        "addressCountry": "MX"
      },
      "openingHoursSpecification": [
        { "@type": "OpeningHoursSpecification", "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"], "opens": "09:00", "closes": "19:00" },
        { "@type": "OpeningHoursSpecification", "dayOfWeek": ["Saturday"], "opens": "10:00", "closes": "14:00" }
      ],
      "url": "https://www.hogaresfelices.mx"
    }
  </script>
  <style>
    :root {
      --color-primary: #2563eb;
      --color-secondary: #f59e0b;
      --color-accent: #10b981;
      --bg: #0b1220;
      --ink: #0f172a;
      --ink-2: #334155;
      --muted: #64748b;
      --card: #ffffff;
      --edge: #e2e8f0;
      --radius: 22px;
      --shadow: 0 10px 30px rgba(2, 6, 23, .12);
      --maxw: 1100px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--ink);
      background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }
    img { max-width: 100%; display: block; }
    a { color: var(--color-primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .skip { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
    .wrap { max-width: var(--maxw); margin-inline: auto; padding: 0 20px; }
    .section { padding: 64px 20px; }
    .section h2 { font-size: clamp(22px, 3.6vw, 32px); margin: 0 0 10px; }
    .section p.lead { color: var(--muted); max-width: 65ch; }
    .text-center { text-align: center; }

    /* Header */
    header { position: sticky; top: 0; z-index: 50; background: #fff; box-shadow: 0 2px 10px rgba(2, 6, 23, .08); }
    .nav { display: flex; align-items: center; justify-content: space-between; gap: 16px; height: 64px; }
    .brand { display: flex; align-items: center; gap: 12px; font-weight: 800; letter-spacing: .3px; }
    .brand svg { width: 34px; height: 34px; }
    .brand b { background: linear-gradient(90deg, var(--color-primary), var(--color-secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; }
    nav ul { display: flex; gap: 18px; list-style: none; padding: 0; margin: 0; }
    nav a { font-weight: 600; color: var(--ink); }
    .menu-btn { display: none; border: 0; background: transparent; }
    .menu-btn svg { width: 28px; height: 28px; }

    @media (max-width: 900px) {
      nav ul { display: none; }
      .menu-btn { display: inline-flex; }
      .mobile-menu { display: none; position: absolute; left: 0; top: 64px; right: 0; background: #fff; border-bottom: 1px solid var(--edge); }
      .mobile-menu a { display: block; padding: 14px 20px; color: var(--ink); border-top: 1px solid var(--edge); }
      .mobile-menu[aria-expanded="true"] { display: block; }
    }

    /* Hero */
    .hero { position: relative; overflow: hidden; }
    .hero .wrap { display: grid; grid-template-columns: 1.1fr .9fr; align-items: center; gap: 40px; padding: 40px 20px; min-height: 72vh; }
    .chip { display: inline-flex; align-items: center; gap: 8px; background: rgba(37, 99, 235, .08); color: #1e3a8a; padding: 8px 12px; border-radius: 999px; font-weight: 600; }
    .chip svg { width: 18px; height: 18px; }
    h1 { font-size: clamp(28px, 5vw, 46px); line-height: 1.08; margin: 12px 0 12px; }
    .hero p { font-size: clamp(16px, 2.5vw, 19px); color: var(--muted); max-width: 60ch; }
    .cta { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 18px; }
    .btn { appearance: none; border: 0; padding: 12px 18px; border-radius: 14px; font-weight: 700; cursor: pointer; box-shadow: var(--shadow); }
    .btn.primary { background: linear-gradient(135deg, var(--color-primary), #3b82f6); color: white; }
    .btn.secondary { background: #fff; border: 1px solid var(--edge); }
    .hero-card { background: #fff; border: 1px solid var(--edge); border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow); }
    .hero-price { display: flex; align-items: baseline; gap: 8px; }
    .hero-price b { font-size: 28px; }
    .hero-meta { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 10px; color: #475569; }

    @media (max-width: 900px) {
      .hero .wrap { grid-template-columns: 1fr; }
    }

    /* Services & Team */
    .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    @media (max-width: 900px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 520px) { .grid { grid-template-columns: 1fr; } }
    .card { background: #fff; border: 1px solid var(--edge); border-radius: var(--radius); padding: 18px; box-shadow: var(--shadow); }
    .card h3 { margin: 8px 0 6px; font-size: 18px; }
    .card p { margin: 0; color: #475569; }
    .team-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; }
    @media (max-width: 900px) { .team-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 520px) { .team-grid { grid-template-columns: repeat(2, 1fr); } }
    .avatar { width: 68px; height: 68px; border-radius: 50%; background: linear-gradient(135deg, #e2e8f0, #cbd5e1); display: grid; place-items: center; font-weight: 800; color: var(--ink); }

    /* Filters & Properties */
    .filters { position: sticky; top: 72px; z-index: 40; background: #fff; border: 1px solid var(--edge); border-radius: 14px; padding: 12px; display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; }
    .filters label { font-size: 12px; color: #475569; display: block; margin-bottom: 4px; }
    .filters input, .filters select { width: 100%; padding: 10px 12px; border: 1px solid var(--edge); border-radius: 10px; }
    .filters .row { display: flex; gap: 10px; }
    @media (max-width: 900px) { .filters { grid-template-columns: repeat(2, 1fr); } }
    .prop-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    @media (max-width: 900px) { .prop-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 520px) { .prop-grid { grid-template-columns: 1fr; } }
    .prop { background: #fff; border: 1px solid var(--edge); border-radius: 18px; overflow: hidden; display: flex; flex-direction: column; box-shadow: var(--shadow); }
    .prop .thumb { aspect-ratio: 16/10; background: #f1f5f9; position: relative; }
    .prop .badge { position: absolute; left: 10px; top: 10px; background: linear-gradient(135deg, var(--color-secondary), #fbbf24); color: #111827; padding: 6px 10px; font-weight: 800; border-radius: 999px; font-size: 12px; }
    .prop .body { padding: 14px; display: grid; gap: 6px; }
    .prop .meta { display: flex; gap: 10px; flex-wrap: wrap; color: #475569; font-size: 14px; }
    .prop .cta { margin-top: 6px; }
    .prop .prop-name { font-size: 1.25rem; font-weight: 600; margin: 0; }
    .prop .prop-price { font-size: 1.5rem; font-weight: 800; margin: 0; color: var(--ink); }

    /* Contact */
    .contact-form { display: grid; gap: 10px; max-width: 720px; }
    .alert { padding: 12px; border-radius: 12px; border: 1px solid var(--edge); display: none; }
    .alert[role="status"], .alert[role="alert"] { display: block; }

    /* Footer & chat */
    footer { background: var(--bg); color: #cbd5e1; padding-top: 36px; }
    footer a { color: #cbd5e1; }
    .foot-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 16px; }
    @media (max-width: 900px) { .foot-grid { grid-template-columns: 1fr; } }
    .legal { border-top: 1px solid #1f2937; margin-top: 20px; padding: 14px 0; font-size: 14px; color: #94a3b8; }

    /* Animation */
    [data-animate] { opacity: 0; transform: translateY(10px); }
  </style>
</head>
<body>
  <a class="skip" href="#main">Saltar al contenido</a>
  <header>
    <div class="wrap nav" role="navigation" aria-label="Principal">
      <a class="brand" href="#inicio" aria-label="Hogares Felices México, inicio">
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
          <path d="M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5H4.5A1.5 1.5 0 0 1 3 19.5v-9Z" stroke="currentColor" stroke-width="1.5" />
          <path d="M9 21v-6h6v6" fill="currentColor" />
        </svg>
        <span><b>Hogares Felices México</b></span>
      </a>
      <nav aria-label="Secciones">
        <ul>
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#servicios">Servicios</a></li>
          <li><a href="#propiedades">Propiedades</a></li>
          <li><a href="#equipo">Equipo</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
      <button class="menu-btn" aria-label="Abrir menú" aria-expanded="false" aria-controls="mobile-menu">
        <svg fill="currentColor" viewBox="0 0 24 24">
          <path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z" />
        </svg>
      </button>
    </div>
    <div class="mobile-menu" id="mobile-menu" aria-hidden="true">
      <a href="#inicio">Inicio</a>
      <a href="#servicios">Servicios</a>
      <a href="#propiedades">Propiedades</a>
      <a href="#equipo">Equipo</a>
      <a href="#contacto">Contacto</a>
    </div>
  </header>
  <main id="main">
    <!-- Sección de Inicio -->
    <section id="inicio" class="hero" aria-labelledby="hero-heading">
      <div class="wrap">
        <div data-animate>
          <div class="chip">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z" clip-rule="evenodd" />
            </svg>
            Agente Inmobiliario Virtual
          </div>
          <h1 id="hero-heading">Tu hogar ideal en <span style="color:#2563eb">Guadalajara</span></h1>
          <p>Asesoría confiable en compra, venta, renta y administración de inmuebles en Guadalajara, Jalisco. Agenda tu visita y encuentra tu casa ideal hoy.</p>
          <div class="cta">
            <a href="#contacto" class="btn primary">Encuentra tu hogar</a>
            <a href="tel:+523312345678" class="btn secondary">Llamar ahora</a>
          </div>
        </div>
        <div class="hero-card" data-animate>
          <img src="https://placehold.co/500x300/e2e8f0/64748b?text=Propiedad+Destacada" alt="Casa destacada en venta" style="border-radius:12px; margin-bottom:12px" />
          <div class="hero-price">
            <b>$6,500,000 MXN</b>
            <span><small>precio de venta</small></span>
          </div>
          <div class="hero-meta">
            <span><b>3</b> recs</span>
            <span><b>2</b> baños</span>
            <span><b>250</b> m²</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección de Servicios -->
    <section id="servicios" class="section text-center" aria-labelledby="services-heading">
      <div class="wrap">
        <h2 id="services-heading">Nuestros Servicios</h2>
        <p class="lead">Hogares Felices México te ofrece una gama completa de servicios inmobiliarios para satisfacer todas tus necesidades.</p>
        <div class="grid" style="margin-top:30px">
          <div class="card" data-animate>
            <h3>Compra de Propiedades</h3>
            <p>Asesoramiento en todo el proceso de búsqueda, selección y adquisición de inmuebles residenciales, comerciales o terrenos.</p>
          </div>
          <div class="card" data-animate>
            <h3>Venta de Propiedades</h3>
            <p>Estrategias de marketing, valuación de propiedades, negociación y cierre de ventas para maximizar el valor de tu inmueble.</p>
          </div>
          <div class="card" data-animate>
            <h3>Renta de Propiedades</h3>
            <p>Gestión integral para propietarios e inquilinos, incluyendo la promoción, selección de candidatos, y elaboración de contratos.</p>
          </div>
          <div class="card" data-animate>
            <h3>Administración de Propiedades</h3>
            <p>Servicio completo para propietarios que desean delegar la gestión de sus inmuebles en renta, incluyendo cobro y mantenimiento.</p>
          </div>
          <div class="card" data-animate>
            <h3>Asesoría Hipotecaria</h3>
            <p>Servicio sin costo para ayudarte a encontrar la mejor opción de financiamiento con nuestros asesores.</p>
          </div>
          <div class="card" data-animate>
            <h3>Valuación Profesional</h3>
            <p>Determinamos el valor justo y actual de tu propiedad para asegurar el mejor precio en el mercado.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección de Propiedades -->
    <section id="propiedades" class="section" aria-labelledby="properties-heading">
      <div class="wrap">
        <div class="text-center">
          <h2 id="properties-heading">Propiedades Disponibles</h2>
          <p class="lead">Explora nuestra base de datos de propiedades. Usa los filtros para encontrar tu hogar ideal.</p>
        </div>
        <div class="filters" data-animate>
          <div>
            <label for="filter-type">Tipo</label>
            <select id="filter-type">
              <option value="all">Todo</option>
              <option value="venta">Venta</option>
              <option value="renta">Renta</option>
            </select>
          </div>
          <div>
            <label for="filter-city">Ciudad</label>
            <select id="filter-city">
              <option value="all">Todo</option>
              <option value="guadalajara">Guadalajara</option>
              <option value="zapopan">Zapopan</option>
              <option value="tlajomulco">Tlajomulco</option>
            </select>
          </div>
          <div>
            <label for="filter-beds">Recámaras</label>
            <input type="number" id="filter-beds" min="0" placeholder="Min. Recámaras" />
          </div>
          <div>
            <label for="filter-baths">Baños</label>
            <input type="number" id="filter-baths" min="0" placeholder="Min. Baños" />
          </div>
          <div>
            <label for="filter-min-price">Precio Mín.</label>
            <input type="number" id="filter-min-price" min="0" placeholder="Precio Mínimo" />
          </div>
          <div>
            <label for="filter-max-price">Precio Máx.</label>
            <input type="number" id="filter-max-price" min="0" placeholder="Precio Máximo" />
          </div>
        </div>
        <div id="properties-list" class="prop-grid" style="margin-top:30px">
          <p>Cargando propiedades...</p>
        </div>
      </div>
    </section>

    <!-- Sección de Equipo -->
    <section id="equipo" class="section text-center" aria-labelledby="team-heading">
      <div class="wrap">
        <h2 id="team-heading">Conoce a Nuestro Equipo</h2>
        <p class="lead">Nuestros agentes inmobiliarios están listos para guiarte en cada paso del proceso.</p>
        <div class="team-grid" style="margin-top:30px">
          <div class="card" data-animate>
            <div class="avatar">JM</div>
            <h3>Juan Mendoza</h3>
            <p>Agente Senior</p>
          </div>
          <div class="card" data-animate>
            <div class="avatar">AP</div>
            <h3>Ana Pérez</h3>
            <p>Especialista en Ventas</p>
          </div>
          <div class="card" data-animate>
            <div class="avatar">LG</div>
            <h3>Luis García</h3>
            <p>Asesor Hipotecario</p>
          </div>
          <div class="card" data-animate>
            <div class="avatar">CR</div>
            <h3>Carla Reyes</h3>
            <p>Asistente de Renta</p>
          </div>
          <div class="card" data-animate>
            <div class="avatar">SR</div>
            <h3>Sofía Ruíz</h3>
            <p>Gerente de Propiedades</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección de Contacto -->
    <section id="contacto" class="section text-center" aria-labelledby="contact-heading">
      <div class="wrap">
        <h2 id="contact-heading">Contacto</h2>
        <p class="lead">¿Listo para encontrar tu próximo hogar? Contáctanos para agendar una cita o resolver tus dudas.</p>
        <form class="contact-form" style="margin-top:30px">
          <input type="text" name="name" placeholder="Tu nombre" required />
          <input type="email" name="email" placeholder="Tu correo electrónico" required />
          <input type="tel" name="phone" placeholder="Tu teléfono" required />
          <textarea name="message" rows="4" placeholder="¿En qué te podemos ayudar?" required></textarea>
          <button type="submit" class="btn primary">Enviar Mensaje</button>
          <div id="form-message" class="alert" aria-live="polite"></div>
        </form>
      </div>
    </section>
  </main>
  
  <footer>
    <div class="wrap foot-grid">
      <div>
        <h3>Hogares Felices México</h3>
        <p>Tu futuro comienza aquí. Confía en nuestra experiencia para encontrar el hogar de tus sueños.</p>
        <p><strong>Horario:</strong> Lun-Vie: 9:00 - 19:00, Sáb: 10:00 - 14:00</p>
        <p><strong>Dirección:</strong> Av. Chapultepec Sur 200, Col. Americana, Guadalajara</p>
        <p><strong>Teléfono:</strong> +52 33 1234 5678</p>
      </div>
      <div>
        <h4>Servicios</h4>
        <ul>
          <li><a href="#servicios">Compra</a></li>
          <li><a href="#servicios">Venta</a></li>
          <li><a href="#servicios">Renta</a></li>
          <li><a href="#servicios">Administración</a></li>
          <li><a href="#servicios">Asesoría Hipotecaria</a></li>
        </ul>
      </div>
      <div>
        <h4>Redes Sociales</h4>
        <ul>
          <li><a href="https://www.facebook.com/HogaresFelicesMX">Facebook</a></li>
          <li><a href="https://www.instagram.com/HogaresFelicesMexico">Instagram</a></li>
          <li><a href="https://www.linkedin.com/company/hogares-felices-mexico">LinkedIn</a></li>
        </ul>
      </div>
    </div>
    <div class="wrap legal">
      <p>&copy; 2024 Hogares Felices México. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    // JSON-LD para propiedades (ejemplo dinámico)
    const propertySchema = {
      "@context": "https://schema.org",
      "@type": "Offer",
      "name": "Casa Familiar con Jardín",
      "priceCurrency": "MXN",
      "price": "6500000",
      "availableAtOrFrom": {
        "@type": "RealEstateAgent",
        "name": "Hogares Felices México"
      },
      "itemOffered": {
        "@type": "House",
        "numberOfBedrooms": "3",
        "numberOfBathroomsTotal": "2",
        "floorSize": {
          "@type": "QuantitativeValue",
          "value": "250",
          "unitText": "m²"
        },
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Guadalajara"
        }
      }
    };
    document.head.appendChild(Object.assign(document.createElement('script'), {
      type: 'application/ld+json',
      textContent: JSON.stringify(propertySchema)
    }));

    // Datos de propiedades (sin servidor)
    const propertiesData = [
      { id: 1, type: 'venta', city: 'guadalajara', price: 6500000, beds: 3, baths: 2, size: 250, desc: 'Casa familiar con amplio jardín en zona céntrica.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+1' },
      { id: 2, type: 'renta', city: 'zapopan', price: 25000, beds: 2, baths: 2, size: 120, desc: 'Departamento moderno con amenidades de lujo.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+2' },
      { id: 3, type: 'venta', city: 'zapopan', price: 8200000, beds: 4, baths: 3, size: 350, desc: 'Residencia de lujo con alberca privada.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+3' },
      { id: 4, type: 'renta', city: 'guadalajara', price: 18000, beds: 1, baths: 1, size: 70, desc: 'Loft ideal para una persona o pareja.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+4' },
      { id: 5, type: 'venta', city: 'tlajomulco', price: 1800000, beds: 3, baths: 2, size: 160, desc: 'Casa en coto privado, perfecta para familias.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+5' },
      { id: 6, type: 'venta', city: 'guadalajara', price: 4200000, beds: 4, baths: 2, size: 200, desc: 'Casa con excelente ubicación y fácil acceso.', image: 'https://placehold.co/400x250/e2e8f0/64748b?text=Propiedad+6' },
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const propertiesListEl = document.getElementById('properties-list');
      const filterType = document.getElementById('filter-type');
      const filterCity = document.getElementById('filter-city');
      const filterBeds = document.getElementById('filter-beds');
      const filterBaths = document.getElementById('filter-baths');
      const filterMinPrice = document.getElementById('filter-min-price');
      const filterMaxPrice = document.getElementById('filter-max-price');

      function formatPrice(price) {
        return `$${new Intl.NumberFormat('es-MX').format(price)} MXN`;
      }

      function renderProperties(properties) {
        propertiesListEl.innerHTML = '';
        if (properties.length === 0) {
          propertiesListEl.innerHTML = '<p class="text-center">No se encontraron propiedades que coincidan con los filtros.</p>';
          return;
        }
        properties.forEach(prop => {
          const propEl = document.createElement('div');
          propEl.className = 'prop';
          propEl.innerHTML = `
            <div class="thumb">
              <span class="badge">${prop.type === 'venta' ? 'En Venta' : 'En Renta'}</span>
              <img src="${prop.image}" alt="Imagen de propiedad: ${prop.desc}" />
            </div>
            <div class="body">
              <h4 class="prop-name">${prop.desc}</h4>
              <p class="prop-price">${formatPrice(prop.price)}</p>
              <div class="meta">
                <span><b>${prop.beds}</b> recs</span>
                <span><b>${prop.baths}</b> baños</span>
                <span><b>${prop.size}</b> m²</span>
              </div>
              <div class="cta">
                <a href="https://wa.me/{{NUMERO_WHATSAPP}}?text=Me%20interesa%20la%20propiedad%20ID%20${prop.id}%20en%20${prop.city}." class="btn primary" target="_blank">WhatsApp</a>
              </div>
            </div>
          `;
          propertiesListEl.appendChild(propEl);
        });
      }

      function filterProperties() {
        const type = filterType.value;
        const city = filterCity.value;
        const beds = parseInt(filterBeds.value, 10) || 0;
        const baths = parseInt(filterBaths.value, 10) || 0;
        const minPrice = parseInt(filterMinPrice.value, 10) || 0;
        const maxPrice = parseInt(filterMaxPrice.value, 10) || Infinity;

        const filtered = propertiesData.filter(prop => {
          const typeMatch = type === 'all' || prop.type === type;
          const cityMatch = city === 'all' || prop.city === city;
          const bedsMatch = prop.beds >= beds;
          const bathsMatch = prop.baths >= baths;
          const priceMatch = prop.price >= minPrice && prop.price <= maxPrice;
          return typeMatch && cityMatch && bedsMatch && bathsMatch && priceMatch;
        });

        // Simular un poco de ordenamiento por precio
        filtered.sort((a, b) => a.price - b.price);

        renderProperties(filtered);
      }

      // Event listeners para los filtros
      filterType.addEventListener('change', filterProperties);
      filterCity.addEventListener('change', filterProperties);
      filterBeds.addEventListener('input', filterProperties);
      filterBaths.addEventListener('input', filterProperties);
      filterMinPrice.addEventListener('input', filterProperties);
      filterMaxPrice.addEventListener('input', filterProperties);

      // Renderizar al inicio
      renderProperties(propertiesData);

      // Funcionalidad del menú móvil
      const menuBtn = document.querySelector('.menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      menuBtn.addEventListener('click', () => {
        const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', !expanded);
        mobileMenu.setAttribute('aria-hidden', expanded);
      });

      // Animación al hacer scroll
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (!prefersReduced) {
        const obs = new IntersectionObserver(entries => {
          entries.forEach(en => {
            if (en.isIntersecting) {
              en.target.animate([
                { opacity: 0, transform: 'translateY(10px)' },
                { opacity: 1, transform: 'translateY(0)' }
              ], { duration: 500, easing: 'ease-out', fill: 'forwards' });
              obs.unobserve(en.target);
            }
          });
        }, { threshold: .12 });
        document.querySelectorAll('[data-animate]').forEach(el => obs.observe(el));
      }

      // Funcionalidad del formulario de contacto
      const contactForm = document.querySelector('.contact-form');
      const formMessage = document.getElementById('form-message');
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        formMessage.style.display = 'block';
        formMessage.setAttribute('role', 'status');
        formMessage.textContent = 'Enviando mensaje...';

        try {
          const formData = new FormData(contactForm);
          const response = await fetch('{{PROVEEDOR_FORM}}', {
            method: 'POST',
            body: formData,
            headers: { 'Accept': 'application/json' }
          });
          if (response.ok) {
            formMessage.textContent = '¡Gracias por contactarnos! Tu mensaje ha sido enviado.';
            formMessage.style.backgroundColor = '#d1fae5';
            formMessage.style.borderColor = '#34d399';
            contactForm.reset();
          } else {
            const data = await response.json();
            if (data.errors) {
              formMessage.textContent = 'Error: ' + data.errors.map(error => error.message).join(', ');
            } else {
              formMessage.textContent = 'Ocurrió un error al enviar el mensaje. Por favor, inténtalo de nuevo.';
            }
            formMessage.setAttribute('role', 'alert');
            formMessage.style.backgroundColor = '#fee2e2';
            formMessage.style.borderColor = '#ef4444';
          }
        } catch (error) {
          formMessage.textContent = 'Hubo un problema de conexión. Por favor, revisa tu red.';
          formMessage.setAttribute('role', 'alert');
          formMessage.style.backgroundColor = '#fee2e2';
          formMessage.style.borderColor = '#ef4444';
          console.error('Error:', error);
        }
      });
    });
  </script>
  <!-- Script de Botpress Chatbot -->
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
  <script src="https://files.bpcontent.cloud/2025/08/16/19/20250816194240-EOESZTG7.js" defer></script>
</body>
</html>
